---
layout: null
---
function getById(e){return document.getElementById(e)}function showEl(e,t){document.querySelectorAll(e+">:not("+t+")").forEach(function(e){e.classList.contains("hidden")||e.classList.add("hidden")}),document.querySelector(e+" "+t).classList.remove("hidden")}var app="{{site.staticman.app}}",repo="{{site.github-repo}}",branch="/{{site.staticman.branch}}/",lang=document.querySelector(".navbar .lang [data-lang]").dataset.lang,commentForm=getById("comment-form"),cancel=getById("cancel-link");function makeRequest(e,t,n,a){var o;if(window.XMLHttpRequest)o=new XMLHttpRequest;else if(window.ActiveXObject)try{o=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{o=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}o.onreadystatechange=function(){return a(o)},t&&"POST"==t.toUpperCase()?(o.open(t,e,!0),o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.send(n)):(o.open(t,e),o.send())}function responseHandler(e){4===e.readyState&&(e.status>=200&&e.status<400?(showEl("#submit-comment",".ok"),showEl(".alert",".ok"),commentForm.reset(),cancel.classList.contains("hidden")||cancel.classList.add("hidden")):(showEl("#submit-comment",".err"),showEl(".alert",".err")),getById("submit-comment").classList.remove("disabled"))}function serialize(e){for(var t=[encodeURIComponent("fields[lang]")+"="+encodeURIComponent(lang)],n=0;n<e.elements.length;n++){var a=e.elements[n];!a.name||a.disabled||""===a.value&&"fields[replying_to]"!==a.name||"file"===a.type||"reset"===a.type||"submit"===a.type||"button"===a.type||"select-multiple"===a.type||("checkbox"!==a.type&&"radio"!==a.type||a.checked)&&t.push(encodeURIComponent(a.name)+"="+encodeURIComponent(a.value))}return t.join("&")}function addReply(e){var t,n=getById("feedback"),a=getById("comment-parent"),o=getById("comment-"+e);if(o&&n&&cancel&&a&&commentForm)return getById("sm-temp-form-div")||((t=document.createElement("div")).id="sm-temp-form-div",t.classList.add("hidden"),n.parentNode.insertBefore(t,n)),o.parentNode.insertBefore(n,o.nextSibling),a.value=e,cancel.classList.remove("hidden"),cancel.addEventListener("click",function(){var e=getById("sm-temp-form-div"),t=getById("feedback");if(this.classList.add("hidden"),e)return getById("comment-parent").value=null,e.parentNode.insertBefore(t,e),e.parentNode.removeChild(e),!1}),getById("comment-form-name").focus(),!1}document.addEventListener("DOMContentLoaded",function(){if(window.matchMedia("(min-width: 768px)").matches)try{var e=(new Date).getTimezoneOffset()/60;0!=e&&(s=e<0?"+":"-",e=s+("0"+Math.abs(e)).slice(-2)+":00",document.querySelectorAll(".comment-meta time").forEach(function(t){t.insertAdjacentHTML("beforeend","&thinsp;("+e+")")}))}catch(e){}document.querySelectorAll(".comment-reply a").forEach(function(e){e.addEventListener("click",function(){return addReply(e.dataset.i)})}),commentForm.addEventListener("submit",function(e){e.preventDefault(),getById("submit-comment").classList.add("disabled"),showEl("#submit-comment",".sending"),makeRequest(app+"/v3/entry/github/"+repo+branch+"comments_"+lang,this.getAttribute("method"),serialize(this),responseHandler)})});